<nav class="navbar">
  <nav class="row">
    <div id="nav">
      <ul class="columns medium-8 left primary-nav">

	<li id="toggleMenu"><a href="#nav">Menu</a></li>
	<li id="hideMenu"><a href="#toggleMenu">Menu</a></li>
	
	{% for nav in site.data.nav %}
		{% if nav.subcategories != null %}
		<li class="dropdown">
			<a href="{{ site.github.url }}{{ nav.href }}">{{ nav.title }}</a>
			<ul>
			  {% for subcategory in nav.subcategories %}
				<li><a href="{{ site.github.url }}{{ subcategory.subhref }}">{{ subcategory.subtitle }}</a></li>
			  {% endfor %}
			</ul>
		  </li>
		{% elsif nav.external-subcategories != null %}
	    <li class="dropdown">
	      <a href="{{ site.url }}{{ nav.url }}">{{ nav.title }}</a>
		<ul>
		  {% for subcategory in nav.external-subcategories %}
		    <li><a href="{{ subcategory.subhref }}">{{ subcategory.subtitle }}</a></li>
		  {% endfor %}
		</ul>
	    </li>
		{% elsif nav.title == page.title %}
		  <li class="active"><a href="{{ nav.href }}">{{ nav.title }}</a></li>
		{% else %}
			{% if nav.href %}
			<li><a href="{{ site.github.url }}{{ nav.href }}">{{ nav.title }}</a></li>
		    {% elsif nav.external %}
		    <!-- <li><a href="{{ nav.external }}">{{ nav.title }}</a></li> -->
		    <li><a href="{{ nav.external }}">{{ nav.title }}</a></li>
		  	{% endif %}
	  	{% endif %}
	{% endfor %}
      </ul>

	<ul class="columns medium-4 right primary-nav">
	{% for social in site.data.socials %}
		<li class="right">
		{% if social.internal %}
			<!-- Use relative_url for internal links -->
			<a href="{{ social.internal | relative_url }}">
			<span class="icon-{{ social.title }} socials"></span>
			</a>
		{% elsif social.href %}
			<!-- Use raw href for external links -->
			<a href="{{ social.href }}">
			<span class="icon-{{ social.title }} socials"></span>
			</a>
		{% endif %}
		</li>
	{% endfor %}
	</ul>
    </div>
  </nav>
</nav>
